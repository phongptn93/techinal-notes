### **1ï¸âƒ£ Giá»›i thiá»‡u**

ğŸ” Lá»— há»•ng **BOLA (Broken Object Level Authorization)** xáº£y ra khi API khÃ´ng kiá»ƒm tra quyá»n truy cáº­p má»™t cÃ¡ch chÃ­nh xÃ¡c á»Ÿ má»©c Ä‘á»‘i tÆ°á»£ng. Äiá»u nÃ y cho phÃ©p káº» táº¥n cÃ´ng **truy cáº­p, chá»‰nh sá»­a hoáº·c xÃ³a dá»¯ liá»‡u cá»§a ngÆ°á»i khÃ¡c** chá»‰ báº±ng cÃ¡ch thay Ä‘á»•i cÃ¡c tham sá»‘ trong yÃªu cáº§u API.

ğŸš¨ ÄÃ¢y lÃ  má»™t trong nhá»¯ng lá»— há»•ng nguy hiá»ƒm nháº¥t, vÃ¬ nÃ³ thÆ°á»ng xuáº¥t hiá»‡n á»Ÿ **REST API, GraphQL, vÃ  gRPC**, áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n báº£o máº­t dá»¯ liá»‡u.

ğŸ“Œ **VÃ­ dá»¥:**  
NgÆ°á»i dÃ¹ng há»£p lá»‡ gá»­i yÃªu cáº§u láº¥y thÃ´ng tin tÃ i khoáº£n:


```http
GET /api/users/1234`
```

ğŸ”´ Náº¿u API khÃ´ng kiá»ƒm tra quyá»n, káº» táº¥n cÃ´ng cÃ³ thá»ƒ thay `1234` thÃ nh `5678` Ä‘á»ƒ truy cáº­p dá»¯ liá»‡u cá»§a ngÆ°á»i khÃ¡c:

```http
GET /api/users/5678`
```

ğŸ–¼ **HÃ¬nh minh há»a vá» cÃ¡ch khai thÃ¡c BOLA:**  
ğŸ“Œ _Káº» táº¥n cÃ´ng chá»‰ cáº§n thay Ä‘á»•i ID trong yÃªu cáº§u API Ä‘á»ƒ truy cáº­p dá»¯ liá»‡u trÃ¡i phÃ©p!_

![[Pasted image 20250225164712.png]]

![[Pasted image 20250225164717.png]]

---

### **2ï¸âƒ£ CÃ¡ch thá»©c khai thÃ¡c**

ğŸ•µï¸â€â™‚ï¸ Káº» táº¥n cÃ´ng thÆ°á»ng sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p:

- **ğŸ”„ Thay Ä‘á»•i Object ID:** DÃ¹ng ID cá»§a ngÆ°á»i khÃ¡c Ä‘á»ƒ truy cáº­p dá»¯ liá»‡u trÃ¡i phÃ©p.
- **ğŸ›  Táº¥n cÃ´ng API khÃ´ng xÃ¡c thá»±c tá»‘t:** CÃ¡c API chá»‰ dá»±a vÃ o ID Ä‘Æ°á»£c gá»­i tá»« phÃ­a client mÃ  khÃ´ng xÃ¡c minh quyá»n sá»Ÿ há»¯u dá»¯ liá»‡u.
- **ğŸ“¥ Láº¥y dá»¯ liá»‡u nháº¡y cáº£m:** API bá»‹ lá»—i cÃ³ thá»ƒ tráº£ vá» thÃ´ng tin cÃ¡ nhÃ¢n (PII), tÃ i khoáº£n ngÃ¢n hÃ ng hoáº·c dá»¯ liá»‡u quan trá»ng khÃ¡c.

---

### **3ï¸âƒ£ CÃ¡ch ngÄƒn cháº·n ğŸ›¡**

âœ… **Kiá»ƒm tra quyá»n truy cáº­p á»Ÿ cáº¥p Ä‘á»™ Ä‘á»‘i tÆ°á»£ng:** KhÃ´ng chá»‰ kiá»ƒm tra xem ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p mÃ  cÃ²n pháº£i xÃ¡c minh há» cÃ³ quyá»n vá»›i dá»¯ liá»‡u Ä‘Ã³.  
âœ… **KhÃ´ng tin tÆ°á»Ÿng dá»¯ liá»‡u tá»« client:** Äá»«ng chá»‰ dá»±a vÃ o ID do client gá»­i mÃ  cáº§n xÃ¡c minh vá»›i server.  
âœ… **Sá»­ dá»¥ng UUID thay vÃ¬ ID tÄƒng dáº§n:** Äiá»u nÃ y lÃ m cho viá»‡c Ä‘oÃ¡n ID khÃ³ khÄƒn hÆ¡n.  
âœ… **Theo dÃµi & ghi log hoáº¡t Ä‘á»™ng API:** Cáº£nh bÃ¡o khi cÃ³ nhiá»u yÃªu cáº§u báº¥t thÆ°á»ng hoáº·c ID thay Ä‘á»•i liÃªn tá»¥c.

https://apisecurity.io/encyclopedia/content/owasp/api1-broken-object-level-authorization
https://inonst.medium.com/a-deep-dive-on-the-most-critical-api-vulnerability-bola-1342224ec3f2.
https://portswigger.net/web-security/access-control
https://portswigger.net/web-security/access-control/lab-user-id-controlled-by-request-parameter
https://portswigger.net/web-security/access-control/lab-unprotected-admin-functionality