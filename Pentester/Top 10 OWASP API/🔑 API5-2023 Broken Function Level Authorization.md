### **1ï¸âƒ£ Giá»›i thiá»‡u**

ğŸ” **Broken Function Level Authorization (BFLA)** xáº£y ra khi API khÃ´ng phÃ¢n biá»‡t quyá»n truy cáº­p giá»¯a cÃ¡c chá»©c nÄƒng khÃ¡c nhau, cho phÃ©p ngÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng Ä‘áº·c quyá»n.

ğŸ“Œ **VÃ­ dá»¥:**  
ğŸ›‘ NgÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng cá»‘ gáº¯ng truy cáº­p API quáº£n trá»‹ viÃªn:

```http
GET /api/admin/users

```
ğŸš¨ Náº¿u API khÃ´ng kiá»ƒm tra quyá»n, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ **xem hoáº·c chá»‰nh sá»­a dá»¯ liá»‡u cá»§a toÃ n bá»™ há»‡ thá»‘ng!**

ğŸ–¼ **HÃ¬nh minh há»a vá» khai thÃ¡c BFLA:**  

![[Pasted image 20250225164604.png]]

![[Pasted image 20250225164610.png]]

---
### **2ï¸âƒ£ CÃ¡ch thá»©c khai thÃ¡c ğŸ•µï¸â€â™‚ï¸**

- **ğŸš€ Truy cáº­p API quáº£n trá»‹ viÃªn mÃ  khÃ´ng cÃ³ quyá»n.**
- **ğŸ›  Thay Ä‘á»•i phÆ°Æ¡ng thá»©c HTTP tá»« `GET` thÃ nh `POST` hoáº·c `DELETE`.**
- **ğŸ“¥ Sá»­ dá»¥ng API cá»§a nhÃ¢n viÃªn hoáº·c Ä‘á»‘i tÃ¡c Ä‘á»ƒ truy cáº­p dá»¯ liá»‡u khÃ´ng Ä‘Æ°á»£c phÃ©p.**

ğŸ“Œ **VÃ­ dá»¥ thá»±c táº¿:**

```http
POST /api/admin/delete_user {     "user_id": "1234" }
```
ğŸš¨ Náº¿u API khÃ´ng kiá»ƒm tra quyá»n, báº¥t ká»³ ai cÅ©ng cÃ³ thá»ƒ xÃ³a tÃ i khoáº£n ngÆ°á»i khÃ¡c!

---
### **3ï¸âƒ£ CÃ¡ch ngÄƒn cháº·n ğŸ›¡**

âœ… **Ãp dá»¥ng kiá»ƒm tra quyá»n theo vai trÃ² (RBAC - Role-Based Access Control).**  
âœ… **KhÃ´ng chá»‰ dá»±a vÃ o frontend Ä‘á»ƒ kiá»ƒm soÃ¡t quyá»n, pháº£i xÃ¡c minh táº¡i backend.**  
âœ… **PhÃ¢n tÃ¡ch rÃµ rÃ ng API dÃ nh cho ngÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng vÃ  API dÃ nh cho quáº£n trá»‹ viÃªn.**  
âœ… **Ghi log vÃ  giÃ¡m sÃ¡t cÃ¡c hÃ nh vi báº¥t thÆ°á»ng nhÆ° truy cáº­p API cao cáº¥p tá»« tÃ i khoáº£n bÃ¬nh thÆ°á»ng.**

https://portswigger.net/web-security/api-testing/lab-exploiting-api-endpoint-using-documentation