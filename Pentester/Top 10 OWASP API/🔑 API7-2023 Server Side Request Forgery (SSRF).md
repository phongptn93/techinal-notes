### **1️⃣ Giới thiệu**

🔍 **SSRF** xảy ra khi API cho phép người dùng cung cấp URL tùy chỉnh mà không có kiểm soát, dẫn đến việc gửi yêu cầu đến máy chủ nội bộ hoặc dịch vụ nhạy cảm khác. Điều này có thể được sử dụng để **truy xuất dữ liệu nội bộ, tấn công hệ thống nội bộ hoặc khai thác các dịch vụ khác**.

📌 **Ví dụ:**  
🛑 Một API cho phép người dùng nhập URL để lấy dữ liệu từ một trang web khác:

```http
GET /api/fetch?url=http://internal-server/admin
```
🚨 Nếu API không kiểm soát URL đầu vào, kẻ tấn công có thể truy xuất thông tin nhạy cảm từ máy chủ nội bộ!

🖼 **Hình minh họa về khai thác SSRF:**  

![[Pasted image 20250225165944.png]]

---
### **2️⃣ Cách thức khai thác 🕵️‍♂️**

- **📥 Đọc dữ liệu từ máy chủ nội bộ (AWS Metadata, Admin Panels).**
- **🔌 Quét cổng và dịch vụ nội bộ.**
- **🎭 Lạm dụng API để thực hiện các cuộc tấn công từ xa.**

---
### **3️⃣ Cách ngăn chặn 🛡**

✅ **Chặn truy cập đến IP nội bộ (127.0.0.1, 169.254.169.254).**  
✅ **Chỉ cho phép truy xuất URL từ danh sách trắng (Whitelist).**  
✅ **Sử dụng proxy để lọc và kiểm tra yêu cầu gửi đi.**  
✅ **Giới hạn HTTP Methods và thời gian phản hồi của yêu cầu.**