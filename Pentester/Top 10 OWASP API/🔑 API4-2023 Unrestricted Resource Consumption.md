### **1️⃣ Giới thiệu**

🔍 **Unrestricted Resource Consumption** xảy ra khi API không giới hạn số lượng tài nguyên mà một người dùng có thể sử dụng, dẫn đến quá tải hệ thống. Điều này có thể làm gián đoạn dịch vụ (**DoS - Denial of Service**) hoặc gây ra chi phí tài nguyên không cần thiết.

📌 **Ví dụ:**  
🔴 Một API cho phép người dùng tải xuống hàng ngàn tệp mà không có giới hạn:

```http
GET /api/download?file=large_video.mp4
```

🚨 Nếu kẻ tấn công gửi hàng triệu yêu cầu, máy chủ sẽ bị quá tải!

🖼 **Hình minh họa về khai thác tài nguyên không giới hạn:**  

![[Pasted image 20250225164627.png]]
![[Pasted image 20250225164631.png]]
---
### **2️⃣ Cách thức khai thác 🔥**

- **📊 Gửi quá nhiều yêu cầu API (Rate-Limiting Bypass).**
- **📥 Tải xuống hoặc tải lên dữ liệu không giới hạn.**
- **🔗 Giữ kết nối mở lâu dài (HTTP Keep-Alive Exploits).**
- **🖥 Lạm dụng API tính toán nặng như AI, mã hóa, hoặc truy vấn dữ liệu lớn.**

---
### **3️⃣ Cách ngăn chặn 🛡**

✅ **Áp dụng Rate Limiting (giới hạn số lượng yêu cầu theo IP hoặc User).**  
✅ **Sử dụng Throttling để giảm tải khi hệ thống bị quá tải.**  
✅ **Giới hạn dung lượng tải lên và số lượng yêu cầu API cho mỗi phiên.**  
✅ **Tắt các tính năng Keep-Alive với thời gian dài hoặc kết nối không cần thiết.**  
✅ **Dùng Web Application Firewall (WAF) để phát hiện hành vi bất thường.**

https://apisecurity.io/owasp-api-security-top-10/api4-2023-unlimited-resource-consumption/
https://dev.to/sre_panchanan/unrestricted-resource-consumption-1p5c
https://owasp.org/API-Security/editions/2023/en/0xa4-unrestricted-resource-consumption/