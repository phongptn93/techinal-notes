#### **1ï¸âƒ£ Giá»›i thiá»‡u**

ğŸ” **Unsafe Consumption of APIs** xáº£y ra khi á»©ng dá»¥ng **tin tÆ°á»Ÿng hoÃ n toÃ n vÃ o API bÃªn ngoÃ i** mÃ  khÃ´ng kiá»ƒm tra hoáº·c xÃ¡c thá»±c dá»¯ liá»‡u tráº£ vá». Äiá»u nÃ y cÃ³ thá»ƒ dáº«n Ä‘áº¿n cÃ¡c cuá»™c táº¥n cÃ´ng chuá»—i cung á»©ng API, dá»¯ liá»‡u bá»‹ giáº£ máº¡o, hoáº·c thá»±c thi mÃ£ Ä‘á»™c háº¡i trong há»‡ thá»‘ng.

ğŸ“Œ **VÃ­ dá»¥:**  
Má»™t á»©ng dá»¥ng láº¥y dá»¯ liá»‡u tá»« API bÃªn thá»© ba mÃ  khÃ´ng kiá»ƒm tra ná»™i dung:
```http
GET /api/external/data
```
ğŸš¨ Náº¿u API bÃªn thá»© ba bá»‹ xÃ¢m pháº¡m, nÃ³ cÃ³ thá»ƒ **tráº£ vá» dá»¯ liá»‡u Ä‘á»™c háº¡i hoáº·c mÃ£ Ä‘á»™c**, gÃ¢y áº£nh hÆ°á»Ÿng Ä‘áº¿n há»‡ thá»‘ng vÃ  ngÆ°á»i dÃ¹ng!

ğŸ–¼ **HÃ¬nh minh há»a vá» Unsafe API Consumption:**  
![[Pasted image 20250225170129.png]]
---
#### **2ï¸âƒ£ CÃ¡ch thá»©c khai thÃ¡c ğŸ•µï¸â€â™‚ï¸**

Máº·c dÃ¹ khÃ´ng cÃ³ cÃ¡ch khai thÃ¡c trá»±c tiáº¿p nhÆ° cÃ¡c lá»— há»•ng khÃ¡c, nhÆ°ng cÃ³ nhiá»u ká»‹ch báº£n rá»§i ro phá»• biáº¿n:

- **ğŸ“¥ API bá»‹ xÃ¢m nháº­p tráº£ vá» mÃ£ Ä‘á»™c** â†’ á»¨ng dá»¥ng tin tÆ°á»Ÿng vÃ  xá»­ lÃ½ dá»¯ liá»‡u sai.
- **ğŸ­ API giáº£ máº¡o hoáº·c bá»‹ thay tháº¿** â†’ Gá»­i dá»¯ liá»‡u sai lá»‡ch, gÃ¢y áº£nh hÆ°á»Ÿng Ä‘áº¿n quyáº¿t Ä‘á»‹nh cá»§a há»‡ thá»‘ng.
- **ğŸ”— Thiáº¿u xÃ¡c thá»±c API** â†’ á»¨ng dá»¥ng tiÃªu thá»¥ API khÃ´ng an toÃ n mÃ  khÃ´ng kiá»ƒm tra nguá»“n gá»‘c.
- **ğŸ“Š JSON/XML Injection** â†’ API tráº£ vá» payload chá»©a script Ä‘á»™c háº¡i, dáº«n Ä‘áº¿n XSS hoáº·c SQL Injection.
- **ğŸ–¥ Dependency Hijacking** â†’ á»¨ng dá»¥ng sá»­ dá»¥ng thÆ° viá»‡n bÃªn thá»© ba chá»©a mÃ£ Ä‘á»™c.

---
#### **3ï¸âƒ£ CÃ¡ch ngÄƒn cháº·n ğŸ›¡**

âœ… **Kiá»ƒm tra dá»¯ liá»‡u tá»« API bÃªn thá»© ba trÆ°á»›c khi xá»­ lÃ½.**  
âœ… **XÃ¡c thá»±c nguá»“n API trÆ°á»›c khi tiÃªu thá»¥ (OAuth, HMAC, TLS).**  
âœ… **DÃ¹ng danh sÃ¡ch tráº¯ng (whitelist) Ä‘á»ƒ chá»‰ cho phÃ©p API Ä‘Ã¡ng tin cáº­y.**  
âœ… **Thá»±c hiá»‡n kiá»ƒm tra dá»¯ liá»‡u Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra Ä‘á»ƒ phÃ¡t hiá»‡n ná»™i dung báº¥t thÆ°á»ng.**  
âœ… **Ãp dá»¥ng chÃ­nh sÃ¡ch Content Security Policy (CSP) Ä‘á»ƒ ngÄƒn cháº·n XSS vÃ  mÃ£ Ä‘á»™c.**  
âœ… **Cáº­p nháº­t API vÃ  thÆ° viá»‡n thÆ°á»ng xuyÃªn Ä‘á»ƒ trÃ¡nh rá»§i ro tá»« dependency.**