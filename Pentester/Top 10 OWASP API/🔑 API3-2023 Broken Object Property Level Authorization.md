### **1Ô∏è‚É£ Gi·ªõi thi·ªáu**

üîç **Broken Object Property Level Authorization** x·∫£y ra khi API cho ph√©p ng∆∞·ªùi d√πng truy c·∫≠p ho·∫∑c ch·ªânh s·ª≠a c√°c thu·ªôc t√≠nh d·ªØ li·ªáu m√† h·ªç kh√¥ng c√≥ quy·ªÅn. L·ªói n√†y th∆∞·ªùng xu·∫•t hi·ªán khi API tr·∫£ v·ªÅ qu√° nhi·ªÅu d·ªØ li·ªáu ho·∫∑c kh√¥ng ki·ªÉm so√°t vi·ªác c·∫≠p nh·∫≠t c√°c thu·ªôc t√≠nh nh·∫°y c·∫£m.

üìå **V√≠ d·ª•:**  
Ng∆∞·ªùi d√πng g·ª≠i y√™u c·∫ßu c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n:

```http
PUT /api/users/1234 {     "username": "new_user",     "role": "admin" }
```

üö® N·∫øu API kh√¥ng ki·ªÉm tra quy·ªÅn, k·∫ª t·∫•n c√¥ng c√≥ th·ªÉ **t·ª± c·∫•p quy·ªÅn admin** ch·ªâ b·∫±ng c√°ch s·ª≠a payload!

üñº **H√¨nh minh h·ªça v·ªÅ khai th√°c BOPLA:**  

![[Pasted image 20250225164644.png]]

![[Pasted image 20250225164649.png]]

---
### **2Ô∏è‚É£ C√°ch th·ª©c khai th√°c üïµÔ∏è‚Äç‚ôÇÔ∏è**

- **üì• Truy xu·∫•t th√¥ng tin nh·∫°y c·∫£m:** API tr·∫£ v·ªÅ to√†n b·ªô d·ªØ li·ªáu ng∆∞·ªùi d√πng, bao g·ªìm th√¥ng tin ·∫©n nh∆∞ `password_hash`, `SSN`, ho·∫∑c `credit_card`.
- **üõ† Ch·ªânh s·ª≠a quy·ªÅn tr√°i ph√©p:** API cho ph√©p c·∫≠p nh·∫≠t c√°c thu·ªôc t√≠nh quan tr·ªçng nh∆∞ `role`, `isAdmin`, `balance`, m√† kh√¥ng ki·ªÉm tra quy·ªÅn h·∫°n.
- **üñ• Mass Assignment Attack:** API ch·∫•p nh·∫≠n qu√° nhi·ªÅu thu·ªôc t√≠nh t·ª´ client m√† kh√¥ng c√≥ whitelist.
---
### **3Ô∏è‚É£ C√°ch ngƒÉn ch·∫∑n üõ°**

‚úÖ **√Åp d·ª•ng ki·ªÉm so√°t quy·ªÅn chi ti·∫øt cho t·ª´ng thu·ªôc t√≠nh d·ªØ li·ªáu.**  
‚úÖ **Kh√¥ng bao gi·ªù ƒë·ªÉ client g·ª≠i gi√° tr·ªã `role`, `isAdmin`, ho·∫∑c c√°c thu·ªôc t√≠nh quan tr·ªçng.**  
‚úÖ **Tri·ªÉn khai c∆° ch·∫ø Whitelist ƒë·ªÉ ch·ªâ ch·∫•p nh·∫≠n c√°c thu·ªôc t√≠nh h·ª£p l·ªá.**  
‚úÖ **·∫®n c√°c thu·ªôc t√≠nh nh·∫°y c·∫£m trong ph·∫£n h·ªìi API.**  
‚úÖ **Ghi log v√† theo d√µi c√°c thay ƒë·ªïi b·∫•t th∆∞·ªùng trong d·ªØ li·ªáu.**

https://apisecurity.io/owasp-api-security-top-10/api3-2023-broken-object-property-level-authorization/